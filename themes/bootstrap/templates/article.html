{% extends "base.html" %}
{% block html_lang %}{{ article.lang }}{% endblock %}

{% block title %}{{ article.title|striptags  }} - {{ SITENAME|striptags }}{% endblock %}

{% block head %}
  {{ super() }}

  {% import 'translations.html' as translations with context %}
  {% if translations.entry_hreflang(article) %}
    {{ translations.entry_hreflang(article) }}
  {% endif %}

  {% if article.description %}
    <meta name="description" content="{{ article.description }}" />
  {% endif %}

  {% for tag in article.tags %}
    <meta name="tags" content="{{ tag }}" />
  {% endfor %}

{% endblock %}

{% block content %}
  <article>
    <header>
      <h1>{{ article.title }}</h1>
      {% import 'translations.html' as translations with context %}
      {{ translations.translations_for(article) }}
      <p>
        Written by {% for author in article.authors %}
        <a href="{{ SITEURL }}/{{ author.url }}">{{ author }}</a>
        {% endfor %}
        {% if SOCIAL %}
          {% for name, link in SOCIAL %}
            {% if name == "Bluesky" %}
              <a href="{{ link }}" target="_blank" rel="noopener noreferrer" class="ms-2" title="Connect with me on Bluesky">
                <svg width="16" height="16" viewBox="0 0 568 501" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path d="M123.121 33.6637C188.241 82.5526 258.281 181.681 284 234.873C309.719 181.681 379.759 82.5526 444.879 33.6637C491.866 1.61183 568 -28.9064 568 57.9464C568 75.2916 558.055 203.659 552.222 224.501C531.947 296.954 458.067 315.434 392.347 304.249C507.222 323.8 536.444 388.56 473.333 453.32C353.473 576.312 301.061 422.461 284 384.039C266.939 422.461 214.527 576.312 94.6667 453.32C31.5556 388.56 60.7778 323.8 175.653 304.249C109.933 315.434 36.0535 296.954 15.7778 224.501C9.94525 203.659 0 75.2916 0 57.9464C0 -28.9064 76.1345 1.61183 123.121 33.6637Z"/>
                </svg>
              </a>
            {% endif %}
          {% endfor %}
        {% endif %}
      </p>
      <p>Published: <time datetime="{{ article.date.isoformat() }}">
        {{ article.locale_date }}
      </time></p>
      {% if article.modified %}
        <p>Last updated: <time datetime="{{ article.modified.isoformat() }}">
          {{ article.locale_modified }}
        </time></p>
      {% endif %}
    </header>
    <hr>
    {{ article.content }}
    <hr>
    <footer>
      <p>Published: <time datetime="{{ article.date.isoformat() }}">
        {{ article.locale_date }}
      </time></p>
      {% if article.modified %}
        <p>Last updated: <time datetime="{{ article.modified.isoformat() }}">
          {{ article.locale_modified }}
        </time></p>
      {% endif %}
      {% if article.category %}
        <p>
          Category: <a href="{{ SITEURL }}/{{ article.category.url }}">{{ article.category }}</a>
        </p>
      {% endif %}
      {% if article.tags %}
        <p>
          Tags:
          {% for tag in article.tags %}
            <a href="{{ SITEURL }}/{{ tag.url }}">{{ tag }}</a>
          {% endfor %}
        </p>
      {% endif %}
    </footer>
  </article>
{% endblock %}
